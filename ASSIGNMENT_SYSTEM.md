# نظام إدارة الواجبات والتكليفات - أكاديمية الشرق

## نظرة عامة
تم إنشاء نظام شامل لإدارة الواجبات والتكليفات يسمح للمعلمين برفع التكليفات والطلاب بتحميل الواجبات مع نظام تقييم متكامل.

## الميزات المطبقة

### 1. 🔧 نظام إدارة الحالة (AssignmentContext)
- **ملف**: `src/context/AssignmentContext.tsx`
- **الميزات**:
  - إدارة شاملة للواجبات والتسليمات
  - أنواع الواجبات: واجب منزلي، مشروع، امتحان، اختبار قصير
  - حالات التسليم: معلق، مسلم، مقيم، متأخر
  - حفظ البيانات في localStorage
  - Hook مخصص للاستخدام (`useAssignments`)

### 2. 📁 نظام رفع الملفات
- **ملف**: `components/FileUpload.tsx`
- **الميزات**:
  - رفع متعدد الملفات (حتى 5 ملفات)
  - دعم أنواع مختلفة: PDF, DOC, DOCX, TXT, JPG, PNG
  - حد أقصى 10 ميجابايت لكل ملف
  - Drag & Drop للرفع
  - معاينة الملفات المرفوعة
  - إمكانية حذف الملفات
  - مؤشرات التقدم والتحميل

### 3. 👨‍🏫 صفحة إدارة التكليفات للمعلمين
- **ملف**: `pages/TeacherAssignments.tsx`
- **الميزات**:
  - **إنشاء تكليفات جديدة**:
    - عنوان ووصف التكليف
    - اختيار المادة الدراسية
    - نوع التكليف (واجب، مشروع، امتحان، اختبار)
    - تاريخ الاستحقاق
    - الدرجة العظمى
    - تعليمات إضافية
    - رفع ملفات مرفقة
  - **عرض التكليفات**:
    - قائمة بجميع التكليفات
    - حالة كل تكليف (متبقي، ينتهي اليوم، منتهي)
    - عدد التسليمات لكل تكليف
    - إمكانية التعديل والحذف
  - **إدارة التسليمات**:
    - عرض تسليمات الطلاب
    - تقييم الواجبات
    - إضافة تعليقات وتغذية راجعة

### 4. 🎓 صفحة الواجبات للطلاب
- **ملف**: `pages/StudentAssignments.tsx`
- **الميزات**:
  - **عرض الواجبات**:
    - تصنيف الواجبات (الكل، معلق، مسلم، مقيم)
    - تفاصيل كل واجب
    - حالة التسليم
    - الملفات المرفقة
    - تعليمات المعلم
  - **تسليم الواجبات**:
    - رفع ملفات الواجب
    - معاينة الملفات قبل التسليم
    - تأكيد التسليم
  - **متابعة التقييم**:
    - عرض الدرجات
    - قراءة تعليقات المعلم
    - تحميل الملفات المسلمة

### 5. 🔗 التكامل مع لوحات التحكم
- **ملف**: `pages/TeacherDashboard.tsx` و `pages/StudentDashboard.tsx`
- **الميزات**:
  - روابط مباشرة لصفحات الواجبات
  - إحصائيات سريعة
  - تنقل سلس بين الصفحات

## أنواع الواجبات المدعومة

### 📝 واجب منزلي (Homework)
- واجبات يومية أو أسبوعية
- تركيز على الممارسة والمراجعة
- مواعيد استحقاق قصيرة

### 📋 مشروع (Project)
- مشاريع طويلة المدى
- تتطلب بحث وتحليل
- مواعيد استحقاق طويلة

### 📊 امتحان (Exam)
- اختبارات شاملة
- درجات عالية
- مواعيد استحقاق محددة

### ❓ اختبار قصير (Quiz)
- اختبارات سريعة
- درجات منخفضة
- مواعيد استحقاق قصيرة

## حالات التسليم

### ⏳ معلق (Pending)
- لم يتم تسليم الواجب بعد
- متاح للتسليم
- يظهر في قائمة "معلق"

### ✅ مسلم (Submitted)
- تم تسليم الواجب في الوقت المحدد
- في انتظار التقييم
- يظهر في قائمة "مسلم"

### 🏆 مقيم (Graded)
- تم تقييم الواجب
- الدرجة متاحة
- تعليقات المعلم متاحة

### ⚠️ متأخر (Late)
- تم تسليم الواجب بعد الموعد المحدد
- قد يؤثر على الدرجة
- يظهر في قائمة "مسلم"

## كيفية الاستخدام

### للمعلمين:

1. **إنشاء تكليف جديد**:
   ```
   لوحة المعلم → إدارة التكليفات → إنشاء تكليف جديد
   ```

2. **ملء بيانات التكليف**:
   - عنوان ووصف التكليف
   - اختيار المادة ونوع التكليف
   - تحديد تاريخ الاستحقاق والدرجة العظمى
   - إضافة تعليمات إضافية
   - رفع ملفات مرفقة

3. **إدارة التسليمات**:
   - عرض تسليمات الطلاب
   - تقييم الواجبات
   - إضافة تعليقات

### للطلاب:

1. **عرض الواجبات**:
   ```
   لوحة الطالب → الواجبات والتكليفات
   ```

2. **تصنيف الواجبات**:
   - الكل: جميع الواجبات
   - معلق: واجبات لم يتم تسليمها
   - مسلم: واجبات تم تسليمها
   - مقيم: واجبات تم تقييمها

3. **تسليم الواجب**:
   - النقر على "تسليم الواجب"
   - رفع ملفات الواجب
   - تأكيد التسليم

## الملفات الجديدة

### Context
- `src/context/AssignmentContext.tsx` - نظام إدارة الواجبات

### Components
- `components/FileUpload.tsx` - مكون رفع الملفات

### Pages
- `pages/TeacherAssignments.tsx` - صفحة إدارة التكليفات للمعلمين
- `pages/StudentAssignments.tsx` - صفحة الواجبات للطلاب

### Updated Files
- `App.tsx` - إضافة AssignmentProvider والروابط الجديدة
- `pages/TeacherDashboard.tsx` - إضافة رابط إدارة التكليفات
- `pages/StudentDashboard.tsx` - إضافة رابط الواجبات والتكليفات

## أنواع الملفات المدعومة

### 📄 المستندات
- PDF (.pdf)
- Word (.doc, .docx)
- Text (.txt)

### 🖼️ الصور
- JPEG (.jpg, .jpeg)
- PNG (.png)

### ⚙️ الإعدادات
- حد أقصى 5 ملفات لكل تسليم
- حد أقصى 10 ميجابايت لكل ملف
- دعم Drag & Drop

## نظام التقييم

### الدرجات
- نظام درجات مرن (1-100)
- إمكانية تحديد الدرجة العظمى لكل واجب
- عرض الدرجة النسبية

### التعليقات
- تعليقات مفصلة من المعلم
- تغذية راجعة بناءة
- نصائح للتحسين

### الإحصائيات
- عدد التسليمات لكل واجب
- معدل التقييم
- تتبع الأداء

## الأمان والتحقق

### التحقق من الملفات
- التحقق من نوع الملف
- التحقق من حجم الملف
- منع الملفات الضارة

### التحقق من البيانات
- التحقق من صحة البيانات المدخلة
- التحقق من تاريخ الاستحقاق
- التحقق من الدرجات

### إدارة الجلسة
- حفظ البيانات في localStorage
- استرداد البيانات عند إعادة التحميل
- تنظيف البيانات عند الحاجة

## التخصيص والتطوير

### إضافة أنواع واجبات جديدة
```tsx
// في AssignmentContext.tsx
export type AssignmentType = 'homework' | 'project' | 'exam' | 'quiz' | 'presentation';
```

### تخصيص أنواع الملفات
```tsx
// في FileUpload.tsx
const acceptedTypes = ['.pdf', '.doc', '.docx', '.txt', '.jpg', '.jpeg', '.png', '.mp4'];
```

### إضافة حقول جديدة
```tsx
// في Assignment interface
export interface Assignment {
  // ... الحقول الموجودة
  priority?: 'low' | 'medium' | 'high';
  tags?: string[];
  estimatedTime?: number; // بالدقائق
}
```

## الاختبار والتحقق

### اختبار رفع الملفات
- [ ] رفع ملف واحد
- [ ] رفع ملفات متعددة
- [ ] رفع ملفات كبيرة
- [ ] رفع أنواع ملفات غير مدعومة
- [ ] حذف الملفات

### اختبار إنشاء التكليفات
- [ ] إنشاء تكليف بسيط
- [ ] إنشاء تكليف مع ملفات
- [ ] إنشاء تكليف مع تعليمات
- [ ] تحديد مواعيد استحقاق مختلفة

### اختبار تسليم الواجبات
- [ ] تسليم واجب في الوقت المحدد
- [ ] تسليم واجب متأخر
- [ ] تسليم واجب مع ملفات متعددة
- [ ] عرض الدرجات والتعليقات

### اختبار التقييم
- [ ] تقييم واجب مسلم
- [ ] إضافة تعليقات
- [ ] تحديد درجات مختلفة
- [ ] عرض الإحصائيات

## الخطوات التالية

1. **ربط قاعدة البيانات**: ربط النظام بقاعدة بيانات حقيقية
2. **إضافة إشعارات**: إشعارات للطلاب عند تعيين واجبات جديدة
3. **تحسين الأمان**: تشفير الملفات وحماية البيانات
4. **إضافة المزيد من الميزات**: 
   - تقييم الأقران
   - واجبات جماعية
   - قوالب واجبات
   - تقارير مفصلة
5. **تحسين UX**: 
   - بحث في الواجبات
   - تصفية متقدمة
   - تقويم الواجبات
   - تذكيرات

## ملاحظات

- النظام يعمل حالياً مع بيانات وهمية
- الملفات تُحفظ محلياً (في التطبيق الحقيقي ستُحفظ على الخادم)
- جميع المكونات متوافقة مع الوضع المظلم
- التصميم متجاوب ويعمل على جميع الأجهزة
- تم الحفاظ على جميع التحسينات السابقة
- النظام يدعم اللغة العربية بالكامل
